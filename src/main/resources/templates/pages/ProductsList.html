<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.css" rel="stylesheet"/>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.js"></script>
</head>
<body>
<div th:replace="components/navbar :: navbar"></div>
<section class="w-1/2 mx-auto flex flex-col space-y-4 mt-4">
    <form th:action="@{products}" class="max-w-md mx-auto w-full">
        <label for="buscarProducto" class="mb-2 text-sm font-medium text-gray-900 sr-only">Search</label>
        <div class="relative">
            <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                <svg class="w-4 h-4 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                     viewBox="0 0 20 20">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                </svg>
            </div>
            <input type="search" id="buscarProducto" name="buscarProducto"
                   class="block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500"
                   placeholder="Search Mockups, Logos..." required/>
            <button type="submit"
                    class="text-white absolute end-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2">
                Search
            </button>
        </div>
    </form>
    <div class="relative overflow-x-auto">
        <table class="w-full text-sm text-left rtl:text-right text-gray-500">
            <thead class="text-xs text-gray-700 uppercase bg-gray-50">
            <tr>
                <th scope="col" class="px-6 py-3">
                    Nombre
                </th>
                <th scope="col" class="px-6 py-3">
                    Codigo
                </th>
                <th scope="col" class="px-6 py-3">
                   Categoria
                </th>
                <th scope="col" class="px-6 py-3">
                    Proveedor
                </th>
                <th scope="col" class="px-6 py-3">
                    Ubicacion
                </th>
                <th scope="col" class="px-6 py-3">
                   Precio
                </th>
                <th scope="col" class="px-6 py-3">
                    Stock
                </th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="product:${products}" class="bg-white border-b border-gray-200">
                <td th:text="*{product.name}" class="px-6 py-4">
                </td>
                <td th:text="*{product.codigo}" class="px-6 py-4">
                </td>
                <td th:text="*{product.categoria}" class="px-6 py-4">
                </td>
                <td th:text="*{product.proveedor}" class="px-6 py-4">
                </td>
                <td th:text="*{product.ubicacion}" class="px-6 py-4">
                </td>
                <td th:text="*{product.precio}" class="px-6 py-4">
                </td>
                <td th:text="*{product.stock}" class="px-6 py-4">
                </td>
                <td class="px-6 py-4 flex gap-4">
                    <a th:href="@{/products/update/} + ${product.id}"
                       class="text-blue-600 cursor-pointer hover:underline">
                        Editar
                    </a>
                    <form th:action="@{/products/delete/} + ${product.id}" method="post">
                        <input type="hidden" name="_method" value="delete"/>
                        <button type="submit" onclick="return confirm('¿Estás seguro de eliminar el registro?')"
                                class="text-red-600 cursor-pointer hover:underline">
                            Eliminar
                        </button>
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</section>
</body>
</html>